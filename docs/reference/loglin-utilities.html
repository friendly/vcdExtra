<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Loglinear Model Utilities — joint • vcdExtra</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Loglinear Model Utilities — joint"><meta name="description" content="These functions generate lists of terms to specify a loglinear model in a
form compatible with loglin and also provide for
conversion to an equivalent loglm specification or a
shorthand character string representation.
They allow for a more conceptual way to specify such models by a function
for their type, as opposed to just an uninterpreted list of model terms and
also allow easy specification of marginal models for a given contingency
table.
They are intended to be used as tools in higher-level modeling and graphics
functions, but can also be used directly."><meta property="og:description" content="These functions generate lists of terms to specify a loglinear model in a
form compatible with loglin and also provide for
conversion to an equivalent loglm specification or a
shorthand character string representation.
They allow for a more conceptual way to specify such models by a function
for their type, as opposed to just an uninterpreted list of model terms and
also allow easy specification of marginal models for a given contingency
table.
They are intended to be used as tools in higher-level modeling and graphics
functions, but can also be used directly."><meta property="og:image" content="https://friendly.github.io/vcdExtra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vcdExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a1-creating.html">1. Creating and manipulating frequency tables</a></li>
    <li><a class="dropdown-item" href="../articles/a2-tests.html">2. Tests of Independence</a></li>
    <li><a class="dropdown-item" href="../articles/a3-loglinear.html">3. Loglinear Models</a></li>
    <li><a class="dropdown-item" href="../articles/a4-mosaics.html">4. Mosaic plots</a></li>
    <li><a class="dropdown-item" href="../articles/a5-demo-housing.html">5. Demo - Housing Data</a></li>
    <li><a class="dropdown-item" href="../articles/a6-mobility.html">6. Mobility tables</a></li>
    <li><a class="dropdown-item" href="../articles/a7-continuous.html">7. Continuous predictors</a></li>
    <li><a class="dropdown-item" href="../articles/datasets.html">Datasets for categorical data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/tidyCats.html">tidyCat: Tidy Methods For Categorical Data Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/friendly/vcdExtra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Loglinear Model Utilities</h1>
      <small class="dont-index">Source: <a href="https://github.com/friendly/vcdExtra/blob/master/R/loglin-utilities.R" class="external-link"><code>R/loglin-utilities.R</code></a></small>
      <div class="d-none name"><code>loglin-utilities.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>These functions generate lists of terms to specify a loglinear model in a
form compatible with <code><a href="https://rdrr.io/r/stats/loglin.html" class="external-link">loglin</a></code> and also provide for
conversion to an equivalent <code><a href="https://rdrr.io/pkg/MASS/man/loglm.html" class="external-link">loglm</a></code> specification or a
shorthand character string representation.</p>
<p>They allow for a more conceptual way to specify such models by a function
for their type, as opposed to just an uninterpreted list of model terms and
also allow easy specification of marginal models for a given contingency
table.
They are intended to be used as tools in higher-level modeling and graphics
functions, but can also be used directly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">joint</span><span class="op">(</span><span class="va">nf</span>, table <span class="op">=</span> <span class="cn">NULL</span>, factors <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">nf</span>, with <span class="op">=</span> <span class="va">nf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">conditional</span><span class="op">(</span><span class="va">nf</span>, table <span class="op">=</span> <span class="cn">NULL</span>, factors <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">nf</span>, with <span class="op">=</span> <span class="va">nf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">mutual</span><span class="op">(</span><span class="va">nf</span>, table <span class="op">=</span> <span class="cn">NULL</span>, factors <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">nf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">saturated</span><span class="op">(</span><span class="va">nf</span>, table <span class="op">=</span> <span class="cn">NULL</span>, factors <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">nf</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">markov</span><span class="op">(</span><span class="va">nf</span>, factors <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="va">nf</span>, order <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">loglin2formula</span><span class="op">(</span><span class="va">x</span>, env <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">loglin2string</span><span class="op">(</span><span class="va">x</span>, brackets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"["</span>, <span class="st">"]"</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">","</span>, collapse <span class="op">=</span> <span class="st">" "</span>, <span class="va">abbrev</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Code from Henrique Dallazuanna, <a href="mailto:wwwhsd@gmail.com">wwwhsd@gmail.com</a>, R-help 7-4-2013</p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nf">nf<a class="anchor" aria-label="anchor" href="#arg-nf"></a></dt>
<dd><p>number of factors for which to generate model</p></dd>


<dt id="arg-table">table<a class="anchor" aria-label="anchor" href="#arg-table"></a></dt>
<dd><p>a contingency table used for factor names, typically the output from <code><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></code></p></dd>


<dt id="arg-factors">factors<a class="anchor" aria-label="anchor" href="#arg-factors"></a></dt>
<dd><p>names of factors used in the model when <code>table</code> is not specified</p></dd>


<dt id="arg-with">with<a class="anchor" aria-label="anchor" href="#arg-with"></a></dt>
<dd><p>indices of the factors against which others are considered conditionally independent</p></dd>


<dt id="arg-order">order<a class="anchor" aria-label="anchor" href="#arg-order"></a></dt>
<dd><p>order of the markov chain</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>a list of terms in a loglinear model, such as returned by <code>joint</code>, <code>conditional</code>, ...</p></dd>


<dt id="arg-env">env<a class="anchor" aria-label="anchor" href="#arg-env"></a></dt>
<dd><p>environment in which to evaluate the formula</p></dd>


<dt id="arg-brackets">brackets<a class="anchor" aria-label="anchor" href="#arg-brackets"></a></dt>
<dd><p>characters to use to surround model terms.  Either a single character string containing two characters
or a character vector of length two.</p></dd>


<dt id="arg-sep">sep<a class="anchor" aria-label="anchor" href="#arg-sep"></a></dt>
<dd><p>characters used to separate factor names within a term</p></dd>


<dt id="arg-collapse">collapse<a class="anchor" aria-label="anchor" href="#arg-collapse"></a></dt>
<dd><p>characters used to separate terms</p></dd>


<dt id="arg-abbrev">abbrev<a class="anchor" aria-label="anchor" href="#arg-abbrev"></a></dt>
<dd><p>Unused as yet</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The main model specification functions, <code>conditional</code>, <code>joint</code>,
<code>markov</code>, ..., <code>saturated</code>, return a list of vectors
indicating the marginal totals to be fit, via the <code>margin</code> argument to
<code><a href="https://rdrr.io/r/stats/loglin.html" class="external-link">loglin</a></code>.
Each element of this list corresponds to a
high-order term in a hierarchical loglinear model, where, e.g., a term like
<code>c("A", "B")</code> is equivalent to the <code><a href="https://rdrr.io/pkg/MASS/man/loglm.html" class="external-link">loglm</a></code> term
<code>"A:B"</code> and hence automatically includes all low-order terms.</p>
<p>Note that these can be used to supply the <code>expected</code> argument for the
default <code><a href="https://rdrr.io/pkg/vcd/man/mosaic.html" class="external-link">mosaic</a></code> function, when the data is supplied as a
contingency table.</p>
<p>The table below shows some typical results in terms of the standard
shorthand notation for loglinear models, with factors A, B, C, ...,
where brackets are used to delimit the high-order terms in the loglinear
model.</p><table class="table table"><tr><td><strong>function</strong></td><td><strong>3-way</strong></td><td><strong>4-way</strong></td><td><strong>5-way</strong></td></tr><tr><td><code>mutual</code></td><td>[A]  [B]  [C]</td><td>[A]  [B]  [C]  [D]</td><td>[A]  [B]  [C]  [D]  [E]</td></tr><tr><td><code>joint</code></td><td>[AB]  [C]</td><td>[ABC]  [D]</td><td>[ABCE]  [E]</td></tr><tr><td><code>joint (with=1)</code></td><td>[A]  [BC]</td><td>[A]  [BCD]</td><td>[A]  [BCDE]</td></tr><tr><td><code>conditional</code></td><td>[AC]  [BC]</td><td>[AD]  [BD]  [CD]</td><td>[AE]  [BE]  [CE]  [DE]</td></tr><tr><td><code>condit (with=1)</code></td><td>[AB]  [AC]</td><td>[AB]  [AC]  [AD]</td><td>[AB]  [AC]  [AD]  [AE]</td></tr><tr><td><code>markov (order=1)</code></td><td>[AB]  [BC]</td><td>[AB]  [BC]  [CD]</td><td>[AB]  [BC]  [CD]  [DE]</td></tr><tr><td><code>markov (order=2)</code></td><td>[A]  [B]  [C]</td><td>[ABC]  [BCD]</td><td>[ABC]  [BCD]  [CDE]</td></tr><tr><td><code>saturated</code></td><td>[ABC]</td><td>[ABCD]</td><td>[ABCDE]</td></tr></table><p><code>loglin2formula</code> converts the output of one of these to a model formula
suitable as the <code>formula</code> for of <code><a href="https://rdrr.io/pkg/MASS/man/loglm.html" class="external-link">loglm</a></code>.</p>
<p><code>loglin2string</code> converts the output of one of these to a string
describing the loglinear model in the shorthand bracket notation,
e.g., <code>"[A,B] [A,C]"</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other loglinear models:
<code><a href="glmlist.html">glmlist()</a></code>,
<code><a href="seq_loglm.html">seq_loglm()</a></code></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

