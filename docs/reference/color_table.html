<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Display Frequency Table with Colored Cell Backgrounds — color_table • vcdExtra</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Display Frequency Table with Colored Cell Backgrounds — color_table"><meta name="description" content='Creates a formatted, semi-graphic "heatmap" table display of frequency data with cell backgrounds
colored according to observed frequencies or their residuals from a loglinear model.
This is an S3 generic function with methods for different input types.'><meta property="og:description" content='Creates a formatted, semi-graphic "heatmap" table display of frequency data with cell backgrounds
colored according to observed frequencies or their residuals from a loglinear model.
This is an S3 generic function with methods for different input types.'><meta property="og:image" content="https://friendly.github.io/vcdExtra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vcdExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a1-creating.html">1. Creating and manipulating frequency tables</a></li>
    <li><a class="dropdown-item" href="../articles/a2-tests.html">2. Tests of Independence</a></li>
    <li><a class="dropdown-item" href="../articles/a3-loglinear.html">3. Loglinear Models</a></li>
    <li><a class="dropdown-item" href="../articles/a4-mosaics.html">4. Mosaic plots</a></li>
    <li><a class="dropdown-item" href="../articles/a5-demo-housing.html">5. Demo - Housing Data</a></li>
    <li><a class="dropdown-item" href="../articles/a6-mobility.html">6. Mobility tables</a></li>
    <li><a class="dropdown-item" href="../articles/a7-continuous.html">7. Continuous predictors</a></li>
    <li><a class="dropdown-item" href="../articles/datasets.html">Datasets for categorical data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/tidyCats.html">tidyCat: Tidy Methods For Categorical Data Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/friendly/vcdExtra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Display Frequency Table with Colored Cell Backgrounds</h1>
      <small class="dont-index">Source: <a href="https://github.com/friendly/vcdExtra/blob/master/R/color_table.R" class="external-link"><code>R/color_table.R</code></a></small>
      <div class="d-none name"><code>color_table.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Creates a formatted, semi-graphic "heatmap" table display of frequency data with cell backgrounds
colored according to observed frequencies or their residuals from a loglinear model.
This is an S3 generic function with methods for different input types.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">color_table</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'table'</span></span>
<span><span class="fu">color_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"freq"</span>, <span class="st">"residuals"</span><span class="op">)</span>,</span>
<span>  shade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residuals"</span>, <span class="st">"freq"</span>, <span class="st">"pearson"</span>, <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expected <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ftable'</span></span>
<span><span class="fu">color_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"freq"</span>, <span class="st">"residuals"</span><span class="op">)</span>,</span>
<span>  shade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residuals"</span>, <span class="st">"freq"</span>, <span class="st">"pearson"</span>, <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expected <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'structable'</span></span>
<span><span class="fu">color_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"freq"</span>, <span class="st">"residuals"</span><span class="op">)</span>,</span>
<span>  shade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residuals"</span>, <span class="st">"freq"</span>, <span class="st">"pearson"</span>, <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expected <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'data.frame'</span></span>
<span><span class="fu">color_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  formula <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  freq_col <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"freq"</span>, <span class="st">"residuals"</span><span class="op">)</span>,</span>
<span>  shade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residuals"</span>, <span class="st">"freq"</span>, <span class="st">"pearson"</span>, <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expected <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'matrix'</span></span>
<span><span class="fu">color_table</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"freq"</span>, <span class="st">"residuals"</span><span class="op">)</span>,</span>
<span>  shade <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"residuals"</span>, <span class="st">"freq"</span>, <span class="st">"pearson"</span>, <span class="st">"deviance"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  expected <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  palette <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  digits <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  title <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  filename <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Default S3 method</span></span>
<span><span class="fu">color_table</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A <code>"table"</code>, <code>"xtabs"</code>, <code>"matrix"</code>, <code>"ftable"</code>, <code>"structable"</code>, or <code>"data.frame"</code> object</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed to methods</p></dd>


<dt id="arg-formula">formula<a class="anchor" aria-label="anchor" href="#arg-formula"></a></dt>
<dd><p>Formula specifying a <code>row_vars ~ col_vars</code> layout (for multi-way tables) to
make them "flat" as defined for <code><a href="https://rdrr.io/pkg/vcd/man/structable.html" class="external-link">vcd::structable()</a></code> and <code><a href="https://rdrr.io/r/stats/ftable.html" class="external-link">stats::ftable()</a></code>.</p></dd>


<dt id="arg-values">values<a class="anchor" aria-label="anchor" href="#arg-values"></a></dt>
<dd><p>What values to display in cells: <code>"freq"</code> for observed frequencies (default),
or <code>"residuals"</code> to display the residual values. When <code>values = "residuals"</code>, margins
are suppressed since residuals don't have meaningful totals.</p></dd>


<dt id="arg-shade">shade<a class="anchor" aria-label="anchor" href="#arg-shade"></a></dt>
<dd><p>What values determine cell shading: <code>"residuals"</code> (default), <code>"freq"</code>,
<code>"pearson"</code>, or <code>"deviance"</code></p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>A fitted model (loglm or glm) to compute residuals from.
If NULL and shade involves residuals, uses an independence model for all factors.</p></dd>


<dt id="arg-expected">expected<a class="anchor" aria-label="anchor" href="#arg-expected"></a></dt>
<dd><p>Expected frequencies (alternative to <code>model</code>), a data structure of the same shape
as <code>x</code></p></dd>


<dt id="arg-palette">palette<a class="anchor" aria-label="anchor" href="#arg-palette"></a></dt>
<dd><p>Color palette function or vector for background colors. Default depends on shade
type. When <code>shade = "freq"</code> the default is <code>palette = c("white", "firebrick")</code>; otherwise
<code>c("#B2182B", "white", , "#2166AC")</code> ranging from red to blue for negative and positive
residuals. The background colors are computed by interpolation using
<code><a href="https://scales.r-lib.org/reference/col_numeric.html" class="external-link">scales::col_numeric()</a></code>.</p></dd>


<dt id="arg-legend">legend<a class="anchor" aria-label="anchor" href="#arg-legend"></a></dt>
<dd><p>Controls display of shading interpretation note:
<code>TRUE</code> or <code>"note"</code> (default) adds a source note explaining the shading;
<code>FALSE</code> (default) suppresses the note, but a message is printed in the console.</p></dd>


<dt id="arg-margins">margins<a class="anchor" aria-label="anchor" href="#arg-margins"></a></dt>
<dd><p>Logical, include row/column totals?</p></dd>


<dt id="arg-digits">digits<a class="anchor" aria-label="anchor" href="#arg-digits"></a></dt>
<dd><p>Number of decimal places for displayed values</p></dd>


<dt id="arg-title">title<a class="anchor" aria-label="anchor" href="#arg-title"></a></dt>
<dd><p>Optional table title</p></dd>


<dt id="arg-filename">filename<a class="anchor" aria-label="anchor" href="#arg-filename"></a></dt>
<dd><p>Optional filename to save the table as an image. If provided,
the table is saved using <code><a href="https://gt.rstudio.com/reference/gtsave.html" class="external-link">gtsave</a></code>. Supported formats include
<code>.png</code>, <code>.svg</code>, <code>.pdf</code>, <code>.html</code>, <code>.rtf</code>, and <code>.docx</code>.
The file format is determined by the file extension. Other arguments can be passed
to <code><a href="https://gt.rstudio.com/reference/gtsave.html" class="external-link">gtsave</a></code> via <code>...</code>.</p></dd>


<dt id="arg-freq-col">freq_col<a class="anchor" aria-label="anchor" href="#arg-freq-col"></a></dt>
<dd><p>Name of the frequency column. If NULL, looks for "Freq" or "count".</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A gt table object that can be further customized</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function provides a heatmap-style representation of a frequency table,
where background coloring is used to visualize patterns and anomalies in the data.
When shading by residuals (the default), cells with large positive residuals
(more observations than expected) are shaded red, while cells with large negative
residuals (fewer than expected) are shaded blue. This makes it easy to identify
cells that deviate substantially from what would be expected under a given model
(by default, the independence model).</p>
<p>For multi-way tables (3 or more dimensions), residuals are computed from the
model of complete independence among all factors using <code><a href="https://rdrr.io/pkg/MASS/man/loglm.html" class="external-link">loglm</a></code>,
unless you specify a model using the <code>model</code> or <code>expected</code> arguments.
A message is printed showing the chi-squared statistic, degrees of freedom,
and p-value for this test.</p>
<p><strong>Contrast shading</strong></p>
<p>For cells with dark background colors, black text can be difficult to read.
This function automatically selects white or black text for each cell based
on which provides better contrast against the background color. If the
<span class="pkg">colorspace</span> package is available, <code><a href="https://colorspace.R-Forge.R-project.org/reference/contrast_ratio.html" class="external-link">contrast_ratio</a></code>
is used to determine the optimal text color according to WCAG 2.1 guidelines.
Otherwise, a fallback based on relative luminance (ITU-R BT.709) is used.</p>
<p><strong>Use in documents</strong></p>
<p>In R Markdown (<code>.Rmd</code>) or Quarto (<code>.qmd</code>) documents, <span class="pkg">gt</span> tables
may not render correctly in all output formats. The <code>filename</code> argument
provides a workaround: save the table as an image, then include it using
<code><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></code>. For example:</p>
<div class="sourceCode"><pre><code><span></span>
<span>    <span class="fu"><a href="../reference/color_table.html">color_table</a></span><span class="op">(</span><span class="va">my_table</span>, filename <span class="op">=</span> <span class="st">"my_table.png"</span><span class="op">)</span></span>
<span>    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html" class="external-link">include_graphics</a></span><span class="op">(</span><span class="st">"my_table.png"</span><span class="op">)</span></span></code></pre></div>

<p>For higher quality output, <code>.svg</code> format is recommended. You can control
the image dimensions using the <code>vwidth</code> and <code>vheight</code> arguments
(passed via <code>...</code>).</p>
<p>If you need a caption for cross-referencing (especially in Quarto or R Markdown),
you can use <code><a href="https://gt.rstudio.com/reference/tab_caption.html" class="external-link">gt::tab_caption()</a></code></p><div class="sourceCode"><pre><code><span></span>
<span>     <span class="va">gt_object</span> <span class="op">|&gt;</span> <span class="fu">tab_caption</span><span class="op">(</span>caption <span class="op">=</span> <span class="st">"Table 1: Pattern of Association in MyTable"</span><span class="op">)</span></span>
<span> </span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="methods-by-class-">Methods (by class)<a class="anchor" aria-label="anchor" href="#methods-by-class-"></a></h2>

<ul><li><p><code>color_table(table)</code>: Method for table objects (including result of xtabs)</p></li>
<li><p><code>color_table(ftable)</code>: Method for ftable objects</p></li>
<li><p><code>color_table(structable)</code>: Method for structable objects (vcd package)</p></li>
<li><p><code>color_table(data.frame)</code>: Method for data.frame in frequency form</p></li>
<li><p><code>color_table(matrix)</code>: Method for matrix objects</p></li>
<li><p><code>color_table(default)</code>: Default method</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Basic usage with 2-way table - shade by residuals from independence</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">HairEyeColor</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">HEC</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/marginSums.html" class="external-link">margin.table</a></span><span class="op">(</span><span class="va">HairEyeColor</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span>  <span class="co"># 2-way: Hair x Eye</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">HEC</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Shade by frequencies instead (no message printed)</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">HEC</span>, shade <span class="op">=</span> <span class="st">"freq"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># 3-way table - using a formula to specify layout</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">HairEyeColor</span>, formula <span class="op">=</span> <span class="va">Eye</span> <span class="op">~</span> <span class="va">Hair</span> <span class="op">+</span> <span class="va">Sex</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Display residual values in cells instead of frequencies</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">HEC</span>, values <span class="op">=</span> <span class="st">"residuals"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># From a data.frame in frequency form (2-way)</span></span></span>
<span class="r-in"><span><span class="va">hec_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">HEC</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">hec_df</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Save table as an image file</span></span></span>
<span class="r-in"><span><span class="fu">color_table</span><span class="op">(</span><span class="va">HEC</span>, filename <span class="op">=</span> <span class="st">"hair_eye_table.png"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

