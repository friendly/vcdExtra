<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The ICU data set consists of a sample of 200 subjects who were part of
a much larger study on survival of patients following admission to an adult
intensive care unit (ICU), derived from  
Hosmer, Lemeshow and Sturdivant (2013) and Friendly (2000).
The major goal of this study was to develop a
logistic regression model to predict the probability of survival to hospital
discharge of these patients and to study the risk factors associated with 
ICU mortality. The clinical details of the study are described in 
Lemeshow, Teres, Avrunin, and Pastides (1988).
This data set is often used to illustrate model selection methods for
logistic regression."><title>ICU data set — ICU • vcdExtra</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ICU data set — ICU"><meta property="og:description" content="The ICU data set consists of a sample of 200 subjects who were part of
a much larger study on survival of patients following admission to an adult
intensive care unit (ICU), derived from  
Hosmer, Lemeshow and Sturdivant (2013) and Friendly (2000).
The major goal of this study was to develop a
logistic regression model to predict the probability of survival to hospital
discharge of these patients and to study the risk factors associated with 
ICU mortality. The clinical details of the study are described in 
Lemeshow, Teres, Avrunin, and Pastides (1988).
This data set is often used to illustrate model selection methods for
logistic regression."><meta property="og:image" content="http://friendly.github.io/vcdExtra/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">vcdExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8-4</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/continuous.html">Continuous predictors</a>
    <a class="dropdown-item" href="../articles/creating.html">Creating and manipulating frequency tables</a>
    <a class="dropdown-item" href="../articles/datasets.html">Datasets for categorical data analysis</a>
    <a class="dropdown-item" href="../articles/demo-housing.html">Demo - Housing Data</a>
    <a class="dropdown-item" href="../articles/loglinear.html">Loglinear Models</a>
    <a class="dropdown-item" href="../articles/mobility.html">Mobility tables</a>
    <a class="dropdown-item" href="../articles/mosaics.html">Mosaic plots</a>
    <a class="dropdown-item" href="../articles/tests.html">Tests of Independence</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/friendly/vcdExtra/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>ICU data set</h1>
      
      <div class="d-none name"><code>ICU.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The ICU data set consists of a sample of 200 subjects who were part of
a much larger study on survival of patients following admission to an adult
intensive care unit (ICU), derived from  
Hosmer, Lemeshow and Sturdivant (2013) and Friendly (2000).</p>
<p>The major goal of this study was to develop a
logistic regression model to predict the probability of survival to hospital
discharge of these patients and to study the risk factors associated with 
ICU mortality. The clinical details of the study are described in 
Lemeshow, Teres, Avrunin, and Pastides (1988).</p>
<p>This data set is often used to illustrate model selection methods for
logistic regression.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ICU</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame with 200 observations on the following 22 variables.</p><dl>
%    \item{\code{id}}{Patient id code, a numeric vector}
    <dt><code>died</code></dt>
<dd><p>Died before discharge?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>age</code></dt>
<dd><p>Patient age, a numeric vector</p></dd>

    <dt><code>sex</code></dt>
<dd><p>Patient sex, a factor with levels <code>Female</code> <code>Male</code></p></dd>

    <dt><code>race</code></dt>
<dd><p>Patient race, a factor with levels <code>Black</code> <code>Other</code> <code>White</code>.  Also represented here as <code>white</code>.</p></dd>

    <dt><code>service</code></dt>
<dd><p>Service at ICU Admission, a factor with levels <code>Medical</code> <code>Surgical</code></p></dd>

    <dt><code>cancer</code></dt>
<dd><p>Cancer part of present problem?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>renal</code></dt>
<dd><p>History of chronic renal failure?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>infect</code></dt>
<dd><p>Infection probable at ICU admission?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>cpr</code></dt>
<dd><p>Patient received CPR prior to ICU admission?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>systolic</code></dt>
<dd><p>Systolic blood pressure at admission (mm Hg), a numeric vector</p></dd>

    <dt><code>hrtrate</code></dt>
<dd><p>Heart rate at ICU Admission (beats/min), a numeric vector</p></dd>

    <dt><code>previcu</code></dt>
<dd><p>Previous admission to an ICU within 6 Months?, a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>admit</code></dt>
<dd><p>Type of admission, a factor with levels <code>Elective</code> <code>Emergency</code></p></dd>

    <dt><code>fracture</code></dt>
<dd><p>Admission with a long bone, multiple, neck, single area, or hip fracture?
    a factor with levels <code>No</code> <code>Yes</code></p></dd>

    <dt><code>po2</code></dt>
<dd><p>PO2 from initial blood gases, a factor with levels <code>&gt;60</code> <code>&lt;=60</code></p></dd>

    <dt><code>ph</code></dt>
<dd><p>pH from initial blood gases, a factor with levels <code>&gt;=7.25</code> <code>&lt;7.25</code></p></dd>

    <dt><code>pco</code></dt>
<dd><p>PCO2 from initial blood gases, a factor with levels <code>&lt;=45</code> <code>&gt;45</code></p></dd>

    <dt><code>bic</code></dt>
<dd><p>Bicarbonate (HCO3) level from initial blood gases, a factor with levels <code>&gt;=18</code> <code>&lt;18</code></p></dd>

    <dt><code>creatin</code></dt>
<dd><p>Creatinine, from initial blood gases, a factor with levels <code>&lt;=2</code> <code>&gt;2</code></p></dd>

    <dt><code>coma</code></dt>
<dd><p>Level of unconsciousness at admission to ICU,	a factor with levels <code>None</code> <code>Stupor</code> <code>Coma</code></p></dd>

    <dt><code>white</code></dt>
<dd><p>a recoding of <code>race</code>,  a factor with levels <code>White</code> <code>Non-white</code></p></dd>

    <dt><code>uncons</code></dt>
<dd><p>a recoding of <code>coma</code> a factor with levels <code>No</code> <code>Yes</code></p></dd>

  
</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Patient ID numbers are the rownames of the data frame.</p>
<p>Note that the last two variables <code>white</code> and <code>uncons</code> are a recoding of
respectively <code>race</code> and <code>coma</code> to binary variables.</p>
    </div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>M. Friendly (2000), <em>Visualizing Categorical Data</em>, Appendix B.4. SAS Institute, Cary, NC.</p>
<p>Hosmer, D. W. Jr., Lemeshow, S. and Sturdivant, R. X. (2013) 
	<em>Applied Logistic Regression</em>, NY: Wiley,
	 Third Edition.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    

<p>Lemeshow, S., Teres, D., Avrunin, J. S., Pastides, H. (1988). Predicting
    the Outcome of Intensive Care Unit Patients. <em>Journal of the American
    Statistical Association</em>, 83, 348-356.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ICU</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># remove redundant variables (race, coma)</span></span></span>
<span class="r-in"><span><span class="va">ICU1</span> <span class="op">&lt;-</span> <span class="va">ICU</span><span class="op">[</span>,<span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">20</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fit full model</span></span></span>
<span class="r-in"><span><span class="va">icu.full</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">died</span> <span class="op">~</span> <span class="va">.</span>, data<span class="op">=</span><span class="va">ICU1</span>, family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">icu.full</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm(formula = died ~ ., family = binomial, data = ICU1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Deviance Residuals: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      Min        1Q    Median        3Q       Max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -1.80396  -0.56064  -0.20440  -0.08635   2.97729  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                  Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)     -6.726704   2.385512  -2.820  0.00481 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age              0.056393   0.018624   3.028  0.00246 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexMale          0.639725   0.531393   1.204  0.22864    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> serviceSurgical -0.673522   0.601902  -1.119  0.26315    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cancerYes        3.107051   1.045846   2.971  0.00297 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> renalYes        -0.035708   0.801647  -0.045  0.96447    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> infectYes       -0.204933   0.553191  -0.370  0.71104    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cprYes           1.053483   1.006614   1.047  0.29530    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> systolic        -0.015472   0.008497  -1.821  0.06864 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> hrtrate         -0.002769   0.009607  -0.288  0.77317    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> previcuYes       1.131942   0.671450   1.686  0.09183 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> admitEmergency   3.079583   1.081584   2.847  0.00441 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> fractureYes      1.411402   1.029705   1.371  0.17047    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> po2&lt;=60          0.073822   0.857044   0.086  0.93136    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ph&lt;7.25          2.354078   1.208804   1.947  0.05148 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> pco&gt;45          -3.018442   1.253448  -2.408  0.01604 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> bic&lt;18          -0.709284   0.909777  -0.780  0.43561    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> creatin&gt;2        0.295143   1.116925   0.264  0.79159    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> whiteNon-white   0.565729   0.926828   0.610  0.54160    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> unconsYes        5.232292   1.226303   4.267 1.98e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Dispersion parameter for binomial family taken to be 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Null deviance: 200.16  on 199  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual deviance: 120.78  on 180  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: 160.78</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Fisher Scoring iterations: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simpler model (found from a "best" subsets procedure)</span></span></span>
<span class="r-in"><span><span class="va">icu.mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">died</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">cancer</span> <span class="op">+</span> <span class="va">systolic</span> <span class="op">+</span> <span class="va">admit</span> <span class="op">+</span> <span class="va">uncons</span>, </span></span>
<span class="r-in"><span>  data<span class="op">=</span><span class="va">ICU1</span>, </span></span>
<span class="r-in"><span>  family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">icu.mod1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm(formula = died ~ age + sex + cancer + systolic + admit + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     uncons, family = binomial, data = ICU1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Deviance Residuals: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Min       1Q   Median       3Q      Max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -2.6490  -0.5822  -0.3426  -0.1222   2.5231  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    -5.884702   1.758997  -3.345 0.000821 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age             0.038875   0.013130   2.961 0.003069 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> sexMale         0.524194   0.479374   1.093 0.274176    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cancerYes       2.386534   0.896958   2.661 0.007798 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> systolic       -0.011683   0.006833  -1.710 0.087309 .  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> admitEmergency  3.171332   0.962323   3.295 0.000982 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> unconsYes       3.934575   0.961746   4.091 4.29e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Dispersion parameter for binomial family taken to be 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Null deviance: 200.16  on 199  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual deviance: 134.38  on 193  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: 148.38</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Fisher Scoring iterations: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># even simpler model</span></span></span>
<span class="r-in"><span><span class="va">icu.mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">died</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">cancer</span>  <span class="op">+</span> <span class="va">admit</span> <span class="op">+</span> <span class="va">uncons</span>, </span></span>
<span class="r-in"><span>  data<span class="op">=</span><span class="va">ICU1</span>, </span></span>
<span class="r-in"><span>  family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">icu.mod2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Call:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> glm(formula = died ~ age + cancer + admit + uncons, family = binomial, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     data = ICU1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Deviance Residuals: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Min       1Q   Median       3Q      Max  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -2.5631  -0.6241  -0.3253  -0.1487   2.4928  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Coefficients:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                Estimate Std. Error z value Pr(&gt;|z|)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Intercept)    -6.86978    1.31882  -5.209 1.90e-07 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age             0.03718    0.01277   2.911 0.003600 ** </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> cancerYes       2.09711    0.83847   2.501 0.012381 *  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> admitEmergency  3.10218    0.91860   3.377 0.000733 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> unconsYes       3.70546    0.87647   4.228 2.36e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> (Dispersion parameter for binomial family taken to be 1)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Null deviance: 200.16  on 199  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Residual deviance: 139.13  on 195  degrees of freedom</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> AIC: 149.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Fisher Scoring iterations: 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">icu.mod2</span>, <span class="va">icu.mod1</span>, <span class="va">icu.full</span>, test<span class="op">=</span><span class="st">"Chisq"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of Deviance Table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 1: died ~ age + cancer + admit + uncons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 2: died ~ age + sex + cancer + systolic + admit + uncons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 3: died ~ age + sex + service + cancer + renal + infect + cpr + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     systolic + hrtrate + previcu + admit + fracture + po2 + ph + </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     pco + bic + creatin + white + uncons</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Resid. Df Resid. Dev Df Deviance Pr(&gt;Chi)  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1       195     139.13                       </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2       193     134.38  2   4.7582  0.09263 .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3       180     120.78 13  13.5981  0.40274  </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Reproduce Fig 6.12 from VCD</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">icu.fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">ICU</span>, prob<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">icu.mod2</span>, type<span class="op">=</span><span class="st">"response"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># combine categorical risk factors to a single string</span></span></span>
<span class="r-in"><span><span class="va">risks</span> <span class="op">&lt;-</span> <span class="va">ICU</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cancer"</span>, <span class="st">"admit"</span>, <span class="st">"uncons"</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">risks</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">risks</span><span class="op">[</span>,<span class="fl">1</span><span class="op">]</span><span class="op">==</span><span class="st">"Yes"</span>, <span class="st">"Cancer"</span>, <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">risks</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">risks</span><span class="op">[</span>,<span class="fl">2</span><span class="op">]</span><span class="op">==</span><span class="st">"Emergency"</span>, <span class="st">"Emerg"</span>, <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">risks</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">risks</span><span class="op">[</span>,<span class="fl">3</span><span class="op">]</span><span class="op">==</span><span class="st">"Yes"</span>, <span class="st">"Uncons"</span>, <span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">risks</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">risks</span>, <span class="fl">1</span>, <span class="va">paste</span>, collapse<span class="op">=</span><span class="st">""</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">risks</span><span class="op">[</span><span class="va">risks</span><span class="op">==</span><span class="st">""</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="st">"(none)"</span></span></span>
<span class="r-in"><span><span class="va">icu.fit</span><span class="op">$</span><span class="va">risks</span> <span class="op">&lt;-</span> <span class="va">risks</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">icu.fit</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">age</span>, y<span class="op">=</span><span class="va">prob</span>, color<span class="op">=</span><span class="va">risks</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>size<span class="op">=</span><span class="fl">1.25</span>, alpha<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Probability of death"</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="ICU-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

