<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Traffic Accident Victims in France in 1958 — Accident • vcdExtra</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Traffic Accident Victims in France in 1958 — Accident"><meta name="description" content='Bertin (1983) used these data to illustrate the cross-classification of
data by numerous variables, each of which could have various types
and could be assigned to various visual attributes.
For modeling and visualization purposes, the data can be treated as a
4-way table using loglinear models and mosaic displays, or as a
frequency-weighted data frame using a binomial response for
result ("Died" vs. "Injured") and plots of
predicted probabilities.'><meta property="og:description" content='Bertin (1983) used these data to illustrate the cross-classification of
data by numerous variables, each of which could have various types
and could be assigned to various visual attributes.
For modeling and visualization purposes, the data can be treated as a
4-way table using loglinear models and mosaic displays, or as a
frequency-weighted data frame using a binomial response for
result ("Died" vs. "Injured") and plots of
predicted probabilities.'><meta property="og:image" content="http://friendly.github.io/vcdExtra/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">vcdExtra</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.8-6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/a1-creating.html">1. Creating and manipulating frequency tables</a></li>
    <li><a class="dropdown-item" href="../articles/a2-tests.html">2. Tests of Independence</a></li>
    <li><a class="dropdown-item" href="../articles/a3-loglinear.html">3. Loglinear Models</a></li>
    <li><a class="dropdown-item" href="../articles/a4-mosaics.html">4. Mosaic plots</a></li>
    <li><a class="dropdown-item" href="../articles/a5-demo-housing.html">5. Demo - Housing Data</a></li>
    <li><a class="dropdown-item" href="../articles/a6-mobility.html">6. Mobility tables</a></li>
    <li><a class="dropdown-item" href="../articles/a7-continuous.html">7. Continuous predictors</a></li>
    <li><a class="dropdown-item" href="../articles/datasets.html">Datasets for categorical data analysis</a></li>
    <li><a class="dropdown-item" href="../articles/tidyCats.html">tidyCat: Tidy Methods For Categorical Data Analysis</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/friendly/vcdExtra/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Traffic Accident Victims in France in 1958</h1>

      <div class="d-none name"><code>Accident.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Bertin (1983) used these data to illustrate the cross-classification of
data by numerous variables, each of which could have various types
and could be assigned to various visual attributes.</p>
<p>For modeling and visualization purposes, the data can be treated as a
4-way table using loglinear models and mosaic displays, or as a
frequency-weighted data frame using a binomial response for
<code>result</code> (<code>"Died"</code> vs. <code>"Injured"</code>) and plots of
predicted probabilities.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Accident</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="format">Format<a class="anchor" aria-label="anchor" href="#format"></a></h2>
    <p>A data frame in frequency form (comprising a 5 x 2 x 4 x 2 table)
   with 80 observations on the following 5 variables.</p><dl><dt><code>age</code></dt>
<dd><p>an ordered factor with levels <code>0-9</code> &lt; <code>10-19</code> &lt; <code>20-29</code> &lt; <code>30-49</code> &lt; <code>50+</code></p></dd>

    <dt><code>result</code></dt>
<dd><p>a factor with levels <code>Died</code> <code>Injured</code></p></dd>

    <dt><code>mode</code></dt>
<dd><p>mode of transportation,
      a factor with levels <code>4-Wheeled</code> <code>Bicycle</code> <code>Motorcycle</code> <code>Pedestrian</code></p></dd>

    <dt><code>gender</code></dt>
<dd><p>a factor with levels <code>Female</code> <code>Male</code></p></dd>

    <dt><code>Freq</code></dt>
<dd><p>a numeric vector</p></dd>


</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>age</code> is an ordered factor, but arguably, <code>mode</code> should be treated as ordered, with levels
<code>Pedestrian</code> &lt; <code>Bicycle</code> &lt; <code>Motorcycle</code> &lt; <code>4-Wheeled</code>
as Bertin does.  This affects the parameterization in models, so we don't do this directly in the
data frame.</p>
    </div>
    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Bertin (1983), p. 30; original data from the Ministere des Travaux Publics</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Bertin, J. (1983),  <em>Semiology of Graphics</em>, University of Wisconsin Press.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># examples</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">Accident</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">Accident</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   age result       mode gender Freq</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 50+   Died Pedestrian   Male  704</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 50+   Died Pedestrian Female  378</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 50+   Died    Bicycle   Male  396</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 50+   Died    Bicycle Female   56</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 50+   Died Motorcycle   Male  742</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 50+   Died Motorcycle Female   78</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># for graphs, reorder mode</span></span></span>
<span class="r-in"><span><span class="va">Accident</span><span class="op">$</span><span class="va">mode</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">ordered</a></span><span class="op">(</span><span class="va">Accident</span><span class="op">$</span><span class="va">mode</span>,</span></span>
<span class="r-in"><span>   levels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html" class="external-link">levels</a></span><span class="op">(</span><span class="va">Accident</span><span class="op">$</span><span class="va">mode</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">1</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Bertin's table</span></span></span>
<span class="r-in"><span><span class="va">accident_tab</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/xtabs.html" class="external-link">xtabs</a></span><span class="op">(</span><span class="va">Freq</span> <span class="op">~</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">mode</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">result</span>, data<span class="op">=</span><span class="va">Accident</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">structable</span><span class="op">(</span><span class="va">mode</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">result</span>, data<span class="op">=</span><span class="va">accident_tab</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               mode   Pedestrian       Bicycle       Motorcycle       4-Wheeled      </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>               gender     Female  Male  Female  Male     Female  Male    Female  Male</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age   result                                                                        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0-9   Died                   89   150       5    26          6     6        65    70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Injured              1967  3341     126   378        131   181      1362  1593</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10-19 Died                   28    70      31    76         54   362        61   150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Injured              1495  1827    7218  3407       3587 12311      2593  3543</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20-29 Died                   24    78      10    55         82   660       107   353</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Injured               864  1521     609  1565       4010 18558      4361  9084</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 30-49 Died                   49   223      24   146         98   889       199   720</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Injured              1814  3178    1118  3024       3664 18909      7712 15086</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 50+   Died                  378   704      56   396         78   742       253   513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       Injured              5449  5206    1030  3863       1387  8597      5552  7423</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Loglinear models</span></span></span>
<span class="r-in"><span><span class="co">## ----------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># mutual independence</span></span></span>
<span class="r-in"><span><span class="va">acc.mod0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">Freq</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">result</span> <span class="op">+</span> <span class="va">mode</span> <span class="op">+</span> <span class="va">gender</span>, </span></span>
<span class="r-in"><span>                data<span class="op">=</span><span class="va">Accident</span>, </span></span>
<span class="r-in"><span>                family<span class="op">=</span><span class="va">poisson</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="LRstats.html">LRstats</a></span><span class="op">(</span><span class="va">acc.mod0</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood summary table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            AIC   BIC LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod0 60983 61007    60320 70  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">mosaic</span><span class="op">(</span><span class="va">acc.mod0</span>, <span class="op">~</span><span class="va">mode</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">result</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="Accident-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># result as a response</span></span></span>
<span class="r-in"><span><span class="va">acc.mod1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">Freq</span> <span class="op">~</span> <span class="va">age</span><span class="op">*</span><span class="va">mode</span><span class="op">*</span><span class="va">gender</span> <span class="op">+</span> <span class="va">result</span>, </span></span>
<span class="r-in"><span>                data<span class="op">=</span><span class="va">Accident</span>, </span></span>
<span class="r-in"><span>                family<span class="op">=</span><span class="va">poisson</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="LRstats.html">LRstats</a></span><span class="op">(</span><span class="va">acc.mod1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood summary table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             AIC    BIC LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod1 2942.4 3040.1   2217.7 39  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">mosaic</span><span class="op">(</span><span class="va">acc.mod1</span>, <span class="op">~</span><span class="va">mode</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">result</span>, </span></span>
<span class="r-in"><span>    labeling_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abbreviate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gender<span class="op">=</span><span class="fl">1</span>, result<span class="op">=</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="Accident-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># allow two-way association of result with each explanatory variable</span></span></span>
<span class="r-in"><span><span class="va">acc.mod2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">Freq</span> <span class="op">~</span> <span class="va">age</span><span class="op">*</span><span class="va">mode</span><span class="op">*</span><span class="va">gender</span> <span class="op">+</span> <span class="va">result</span><span class="op">*</span><span class="op">(</span><span class="va">age</span><span class="op">+</span><span class="va">mode</span><span class="op">+</span><span class="va">gender</span><span class="op">)</span>, </span></span>
<span class="r-in"><span>                data<span class="op">=</span><span class="va">Accident</span>, </span></span>
<span class="r-in"><span>                family<span class="op">=</span><span class="va">poisson</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="LRstats.html">LRstats</a></span><span class="op">(</span><span class="va">acc.mod2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood summary table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             AIC    BIC LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod2 968.13 1084.8   227.47 31  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span><span class="fu">mosaic</span><span class="op">(</span><span class="va">acc.mod2</span>, <span class="op">~</span><span class="va">mode</span> <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">gender</span> <span class="op">+</span> <span class="va">result</span>, </span></span>
<span class="r-in"><span>    labeling_args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>abbreviate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>gender<span class="op">=</span><span class="fl">1</span>, result<span class="op">=</span><span class="fl">4</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="Accident-3.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">acc.mods</span> <span class="op">&lt;-</span> <span class="fu"><a href="glmlist.html">glmlist</a></span><span class="op">(</span><span class="va">acc.mod0</span>, <span class="va">acc.mod1</span>, <span class="va">acc.mod2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="LRstats.html">LRstats</a></span><span class="op">(</span><span class="va">acc.mods</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Likelihood summary table:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            AIC   BIC LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod0 60983 61007    60320 70  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod1  2942  3040     2218 39  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> acc.mod2   968  1085      227 31  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Binomial (logistic regression) models for result</span></span></span>
<span class="r-in"><span><span class="co">## ------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/" class="external-link">car</a></span><span class="op">)</span>  <span class="co"># for Anova()</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Loading required package: carData</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Attaching package: 'carData'</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> The following object is masked from 'package:vcdExtra':</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>     Burt</span>
<span class="r-in"><span><span class="va">acc.bin1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">result</span><span class="op">==</span><span class="st">'Died'</span> <span class="op">~</span> <span class="va">age</span> <span class="op">+</span> <span class="va">mode</span> <span class="op">+</span> <span class="va">gender</span>, </span></span>
<span class="r-in"><span>    weights<span class="op">=</span><span class="va">Freq</span>, data<span class="op">=</span><span class="va">Accident</span>, family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/car/man/Anova.html" class="external-link">Anova</a></span><span class="op">(</span><span class="va">acc.bin1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of Deviance Table (Type II tests)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response: result == "Died"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age     1179.03  4  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode     136.82  3  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gender   467.70  1  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">acc.bin2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">result</span><span class="op">==</span><span class="st">'Died'</span> <span class="op">~</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">mode</span> <span class="op">+</span> <span class="va">gender</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span>, </span></span>
<span class="r-in"><span>    weights<span class="op">=</span><span class="va">Freq</span>, data<span class="op">=</span><span class="va">Accident</span>, family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/car/man/Anova.html" class="external-link">Anova</a></span><span class="op">(</span><span class="va">acc.bin2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of Deviance Table (Type II tests)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response: result == "Died"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age          1100.82  4  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode          136.07  3  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gender        418.88  1  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age:mode      122.24 12  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age:gender     46.86  4  1.631e-09 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode:gender    21.94  3  6.702e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">acc.bin3</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/glm.html" class="external-link">glm</a></span><span class="op">(</span><span class="va">result</span><span class="op">==</span><span class="st">'Died'</span> <span class="op">~</span> <span class="op">(</span><span class="va">age</span> <span class="op">+</span> <span class="va">mode</span> <span class="op">+</span> <span class="va">gender</span><span class="op">)</span><span class="op">^</span><span class="fl">3</span>, </span></span>
<span class="r-in"><span>    weights<span class="op">=</span><span class="va">Freq</span>, data<span class="op">=</span><span class="va">Accident</span>, family<span class="op">=</span><span class="va">binomial</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/pkg/car/man/Anova.html" class="external-link">Anova</a></span><span class="op">(</span><span class="va">acc.bin3</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of Deviance Table (Type II tests)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Response: result == "Died"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 LR Chisq Df Pr(&gt;Chisq)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age              1100.82  4  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode              136.07  3  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> gender            418.88  1  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age:mode          122.24 12  &lt; 2.2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age:gender         46.86  4  1.631e-09 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mode:gender        21.94  3  6.702e-05 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> age:mode:gender    13.02 12     0.3675    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># compare models</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/stats/anova.html" class="external-link">anova</a></span><span class="op">(</span><span class="va">acc.bin1</span>, <span class="va">acc.bin2</span>, <span class="va">acc.bin3</span>, test<span class="op">=</span><span class="st">"Chisq"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analysis of Deviance Table</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 1: result == "Died" ~ age + mode + gender</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 2: result == "Died" ~ (age + mode + gender)^2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Model 3: result == "Died" ~ (age + mode + gender)^3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Resid. Df Resid. Dev Df Deviance Pr(&gt;Chi)    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1        71      64599                         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2        52      64384 19  214.445   &lt;2e-16 ***</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3        40      64371 12   13.022   0.3675    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ---</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># visualize probability of death with effect plots</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.r-project.org" class="external-link">effects</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/effects/man/effect.html" class="external-link">allEffects</a></span><span class="op">(</span><span class="va">acc.bin1</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">'Pr (Died)'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/effects/man/effect.html" class="external-link">allEffects</a></span><span class="op">(</span><span class="va">acc.bin2</span><span class="op">)</span>, ylab<span class="op">=</span><span class="st">'Pr (Died)'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Friendly.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

